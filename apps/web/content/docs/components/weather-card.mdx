---
title: Weather Card
description: A streaming weather card component built with Stream primitives.
---

import { WeatherCard, WeatherCardDemo } from "@/registry/stream";

A streaming weather card that renders progressively as AI generates the data. Built with Stream primitives from `@stream.ui/react`.

## Interactive Demo

Try it live! Enter a city name or click one of the quick-select buttons.

<ComponentPreview>
  <WeatherCardDemo />
</ComponentPreview>

## Preview

<ComponentPreview component="weather-card" example="preview">
  <div className="w-full max-w-sm mx-auto">
    <WeatherCard
      data={{
        location: "San Francisco",
        temperature: 18,
        condition: "cloudy",
        humidity: 72,
        windSpeed: 15,
        forecast: [
          { day: "Mon", high: 20, low: 14, condition: "sunny" },
          { day: "Tue", high: 19, low: 13, condition: "cloudy" },
          { day: "Wed", high: 17, low: 12, condition: "rainy" },
        ],
      }}
    />
  </div>
</ComponentPreview>

## Installation

<Tabs items={["CLI", "Manual"]}>
  <Tab value="CLI">

### 1. Install primitives

```bash
npm install @stream.ui/react
```

### 2. Add the component

```bash
npx shadcn@latest add "https://streamui.dev/r/weather-card.json"
```

  </Tab>
  <Tab value="Manual">

### 1. Install primitives

```bash
npm install @stream.ui/react
```

### 2. Copy the component

```tsx title="components/stream/weather-card.tsx"
"use client";

import { Stream } from "@stream.ui/react";
import { cva, type VariantProps } from "class-variance-authority";
import { Cloud, CloudRain, CloudSnow, Droplets, Sun, Wind } from "lucide-react";
import * as React from "react";
import { z } from "zod";
import { cn } from "@/lib/utils";

export const weatherCardSchema = z.object({
  location: z.string().describe("City name"),
  temperature: z.number().describe("Temperature in Celsius"),
  condition: z.enum(["sunny", "cloudy", "rainy", "snowy", "windy"]),
  humidity: z.number().nullable().describe("Humidity percentage"),
  windSpeed: z.number().nullable().describe("Wind speed in km/h"),
  forecast: z.array(z.object({
    day: z.string(),
    high: z.number(),
    low: z.number(),
    condition: z.enum(["sunny", "cloudy", "rainy", "snowy", "windy"]),
  })).nullable(),
});

// ... full component code
```

  </Tab>
</Tabs>

## Built with Primitives

This component uses Stream primitives internally:

```tsx
<Stream.Root data={data} isLoading={isLoading}>
  <Stream.Field path="location" fallback={<Skeleton />}>
    {(location) => <h3>{location}</h3>}
  </Stream.Field>
  
  <Stream.Field path="temperature" fallback={<Skeleton />}>
    {(temp) => <span>{temp}°</span>}
  </Stream.Field>
  
  <Stream.List path="forecast" fallback={<ForecastSkeleton />}>
    {(days) => days.map(day => <ForecastDay {...day} />)}
  </Stream.List>
  
  <Stream.When streaming>
    <PulsingIndicator />
  </Stream.When>
</Stream.Root>
```

## Examples

### Static Data

Pass complete data to render without streaming.

<ComponentPreview component="weather-card" example="basic">
  <div className="w-full max-w-sm mx-auto">
    <WeatherCard
      data={{
        location: "Tokyo",
        temperature: 22,
        condition: "sunny",
        humidity: 65,
        windSpeed: 8,
        forecast: [
          { day: "Mon", high: 24, low: 18, condition: "sunny" },
          { day: "Tue", high: 23, low: 17, condition: "cloudy" },
          { day: "Wed", high: 21, low: 16, condition: "rainy" },
        ],
      }}
    />
  </div>
</ComponentPreview>

### Loading State

Use `isLoading` to show skeleton placeholders.

<ComponentPreview component="weather-card" example="loading">
  <div className="w-full max-w-sm mx-auto">
    <WeatherCard isLoading />
  </div>
</ComponentPreview>

### Progressive Rendering

As data streams in, fields appear incrementally.

<ComponentPreview component="weather-card" example="partial">
  <div className="w-full max-w-sm mx-auto">
    <WeatherCard
      data={{
        location: "London",
        temperature: 12,
        condition: "rainy",
      }}
    />
  </div>
</ComponentPreview>

### Elevated Variant

Use `variant="elevated"` for more visual prominence.

<ComponentPreview component="weather-card" example="elevated">
  <div className="w-full max-w-sm mx-auto">
    <WeatherCard
      variant="elevated"
      data={{
        location: "Sydney",
        temperature: 28,
        condition: "sunny",
        humidity: 55,
        windSpeed: 20,
        forecast: [
          { day: "Mon", high: 30, low: 22, condition: "sunny" },
          { day: "Tue", high: 29, low: 21, condition: "sunny" },
          { day: "Wed", high: 27, low: 20, condition: "cloudy" },
        ],
      }}
    />
  </div>
</ComponentPreview>

## Usage with AI SDK

### API Route

```tsx title="app/api/stream/weather/route.ts"
import { streamText, Output, gateway } from "ai";
import { weatherCardSchema } from "@/components/stream/weather-card";

export async function POST(request: Request) {
  const { prompt } = await request.json();

  const result = streamText({
    model: gateway("google/gemini-2.0-flash"),
    output: Output.object({ schema: weatherCardSchema }),
    system: `Generate realistic weather data for the requested location.`,
    prompt: `Generate weather data for: ${prompt}`,
  });

  return result.toUIMessageStreamResponse();
}
```

### Client Component

```tsx title="components/weather-demo.tsx"
"use client";

import { experimental_useObject as useObject } from "@ai-sdk/react";
import { WeatherCard, weatherCardSchema } from "@/components/stream/weather-card";

export function WeatherDemo() {
  const { object, submit, isLoading, error } = useObject({
    api: "/api/stream/weather",
    schema: weatherCardSchema,
  });

  return (
    <div>
      <WeatherCard data={object ?? undefined} isLoading={isLoading && !object} />
      
      {error && <p className="text-red-500">Error: {error.message}</p>}
      
      <form onSubmit={(e) => {
        e.preventDefault();
        const formData = new FormData(e.currentTarget);
        submit({ prompt: formData.get("city") });
      }}>
        <input name="city" placeholder="Enter city…" />
        <button type="submit">Get Weather</button>
      </form>
    </div>
  );
}
```

## API Reference

### WeatherCard

| Prop | Type | Default |
| --- | --- | --- |
| `data` | `Partial<WeatherCardData>` | — |
| `isLoading` | `boolean` | `false` |
| `variant` | `"default" \| "elevated"` | `"default"` |

### WeatherCardData (Schema)

| Property | Type | Required |
| --- | --- | --- |
| `location` | `string` | Yes |
| `temperature` | `number` | Yes |
| `condition` | `"sunny" \| "cloudy" \| "rainy" \| "snowy" \| "windy"` | Yes |
| `humidity` | `number` | No |
| `windSpeed` | `number` | No |
| `forecast` | `Array<ForecastDay>` | No |

